# Приложение D: Рекомендации

## Введение

При подготовке версии 5.0 Стандарта верификации требований к безопасности приложений (ASVS) стало очевидно, что ряд существующих и вновь предложенных пунктов не следует включать в требования версии 5.0. Это могло быть связано с тем, что они не входят в скоуп действия ASVS согласно определению для версии 5.0, или же потому, что, хотя эти идеи и представлялись полезными, их нельзя было сделать обязательными.

Не желая полностью потерять все эти материалы, некоторые из них были включены в это приложение.

## Рекомендуемые механизмы, входящие в скоуп применения

Следующие пункты входят в скоуп действия ASVS. Они не должны быть обязательными, но настоятельно рекомендуется рассматривать их как часть безопасного приложения.

* Необходимо предоставить индикатор надежности пароля, чтобы помочь пользователям установить более стойкий пароль.
* Создайте общедоступный файл security.txt в корневом каталоге или каталоге .well-known приложения, в котором будет чётко указана ссылка или адрес электронной почты, по которым пользователи смогут связаться с владельцами по вопросам безопасности.
* В дополнение к проверке на уровне доверенных служб следует применять проверку входных данных на стороне клиента, поскольку это даёт хорошую возможность обнаружить, когда кто-то обходит клиентские средства защиты при попытке атаки на приложение.
* Предотвращайте появление в поисковых системах случайно доступных и конфиденциальных страниц с помощью файла robots.txt, заголовка ответа X-Robots-Tag или метатега robots.html.
* При использовании GraphQL реализуйте логику авторизации на уровне бизнес-логики, а не на уровне GraphQL или резолвера, чтобы избежать необходимости обрабатывать авторизацию на каждом отдельном интерфейсе.

Ссылки:

* [Дополнительная информация о security.txt, включая ссылку на RFC](https://securitytxt.org/)

## Принципы безопасности программного обеспечения

Следующие пункты ранее присутствовали в ASVS, но они не являются требованиями. Скорее, это принципы, которые следует учитывать при реализации мер безопасности, соблюдение которых приведет к повышению надежности этих мер. К ним относятся:

* Средства управления безопасностью должны быть централизованными, простыми (экономия времени), проверяемо безопасными и допускающими повторное использование. Это позволит избежать дублирования, отсутствия или неэффективности средств управления.
* По возможности используйте ранее написанные и проверенные реализации средств управления безопасностью, а не полагайтесь на их реализацию с нуля.
* В идеале для доступа к защищённым данным и ресурсам следует использовать единый механизм управления доступом. Все запросы должны проходить через этот механизм, чтобы избежать копирования и вставки или небезопасных альтернативных путей.
* Управление доступом на основе атрибутов или функций — рекомендуемый шаблон, при котором код проверяет авторизацию пользователя для функции или элемента данных, а не только его роль. Разрешения по-прежнему должны предоставляться с использованием ролей.

## Процессы обеспечения безопасности программного обеспечения


Ряд процессов обеспечения безопасности были исключены из ASVS 5.0, но всё ещё представляют собой хорошую идею. Проект OWASP SAMM может стать хорошим источником информации о том, как эффективно реализовать эти процессы. Ранее в ASVS присутствовали следующие элементы:

* Убедитесь в использовании безопасного жизненного цикла разработки программного обеспечения, который обеспечивает безопасность на всех этапах разработки.
* Убедитесь в применении моделирования угроз для каждого изменения дизайна или планирования спринта, чтобы выявлять угрозы, планировать контрмеры, способствовать надлежащему реагированию на риски и управлять тестированием безопасности.
* Убедитесь, что все пользовательские истории и функции содержат функциональные ограничения безопасности. Например, "Как пользователь, я должен иметь возможность просматривать и редактировать свой профиль, но не должен иметь возможности просматривать или редактировать чужой профиль".
* Убедитесь в наличии чек-листа для безопасной разработки, требований, политик и стандартов безопасности, а также в их доступности для разработчиков и тестировщиков.
* Убедитесь, что существует непрерывный процесс, гарантирующий отсутствие в исходном коде приложения бэкдоров, вредоносного кода (такого как атаки типа «нарезка салями», обход логики или «логические бомбы») и недокументированных или скрытых функций (например, «пасхальных яиц», небезопасных инструментов отладки). Выполнение требований этого раздела невозможно без полного доступа к исходному коду, включая сторонние библиотеки, и поэтому, вероятно, подходит только для приложений, требующих высочайшего уровня безопасности.
* Убедитесь, что в средах развертывания реализованы механизмы обнаружения и реагирования на отклонения конфигурации. Это может включать использование неизменяемой инфраструктуры, автоматическое повторное развертывание с безопасной базовой конфигурацией или инструменты обнаружения отклонений, сравнивающие текущее состояние с утверждёнными конфигурациями.
* Убедитесь, что усиление защиты конфигурации выполняется для всех сторонних продуктов, библиотек, фреймворков и служб в соответствии с их индивидуальными рекомендациями.

Ссылки:

* [OWASP Threat Modeling Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Threat_Modeling_Cheat_Sheet.html)
* [OWASP Threat modeling](https://owasp.org/www-community/Application_Threat_Modeling)
* [OWASP Software Assurance Maturity Model Project](https://owasp.org/www-project-samm/)
* [Microsoft SDL](https://www.microsoft.com/en-us/securityengineering/sdl/)
